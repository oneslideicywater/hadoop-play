## HDFS 设计思想


![hdfs r/w mode](images/hdfs.png)

出于读写效率的考虑，当客户端很多，如果所有客户端读写操作都要经过主节点，那么主节点的压力会很大。


## 文件存储


文件按照Block Size（默认128M）存储。

比如
- 上传文件大小为1kb, HDFS需要分配一个Block。
- 上传文件大小为300M，HDFS需要分配3个Block.

因此HDFS适合存储的是大文件，过多小文件会产生大量的文件碎片。